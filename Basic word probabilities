import re
from collections import Counter

with open(r'C:\Users\Saim\Downloads\shakespeare.txt', encoding="utf8") as f:
    file = f.read()

"""Takes a txt file, converts words to lowercase, splits and returns the words"""
def prep(text):
    lowercase = text.lower()
    words = re.findall(r'\w+', lowercase)
    return words
    
"""Takes the words of previous function and stores them in a dict
    Keys are words and values is the number of occurences"""
def get_count(word1):
    word_count_dict = dict(Counter(word1))
    return word_count_dict

"""""Gets word probabilities by dividing get_counts output dict key with the sum of all dict values"""
def get_probability(word_count_dict):
    probabilities = {}
    
    denominator = sum(word_count_dict.values())
    
    for key in word_count_dict.keys():
        probabilities[key] = word_count_dict[key] / denominator
    return probabilities

    
word1 = prep(file)
w = get_count(word1)
probs = get_probability(w)

print(f"The count for the word 'thee' is {w.get('thee',0)}")
print(f"P('thee') is {probs['thee']:.4f}")
